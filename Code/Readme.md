FInal code was written using VS code and uploaded to esp using usb to serial module with esp idf extenxtion.
